//search key word
var events = require('events');
var fs = require('fs');
var util = require('util');

function SearchBox(jquery_element){
	events.EventEmitter.call(this);
	this.element = jquery_element;
	this.charArray = [];
  	var self = this;
	this.element.on('click', function() {
		var words = $("input[name = 'ChineseWords']").val();
		console.log("get input:" + words);
		var backInfo = {"status": false, "msg": ""};
		var re = new RegExp("[\u4e00-\u9fa5]", "g");
		var filterWords = words.match(re);
		console.log(filterWords);
		if(words.length <= 0){
			backInfo.msg = "blank";
		}else if(words.length > 6){
			backInfo.msg = "more";
		}else{
			backInfo.status = true;
			this.charArray = filterWords;
		}
		self.emit('navigate', backInfo);
  	});
}
util.inherits(SearchBox, events.EventEmitter);
exports.SearchBox = SearchBox; 
